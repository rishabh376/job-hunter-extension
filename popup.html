<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Job Hunter Pro</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <h1>Job Hunter Pro</h1>
    <div id="unlockStatus" style="font-size:12px;color:#666;margin-bottom:6px">API: unknown</div>
    <div style="margin-bottom:8px;display:flex;gap:6px;align-items:center">
      <input type="password" id="popupPassphrase" placeholder="Enter passphrase to unlock" style="flex:1;padding:6px" />
      <button id="togglePassVisible" class="btn" title="Show/Hide">üëÅ</button>
      <button id="popupUnlockBtn" class="btn">Unlock</button>
      <button id="popupClipboardUnlockBtn" class="btn">Unlock from clipboard</button>
      <button id="popupLockBtn" class="btn">Lock</button>
    </div>
    
    <div class="section">
      <h2>Auto Application</h2>
      <label class="switch">
        <input type="checkbox" id="autoApply">
        <span class="slider"></span>
      </label>
      <span>Enable auto-apply</span>
    </div>

    <div class="section">
      <h2>Resume Optimization</h2>
      <button id="optimizeResume" class="btn btn-primary">Optimize Current Resume</button>
      <div id="optimizationStatus"></div>
    </div>

    <div class="section">
      <h2>Optimized Resume</h2>
      <pre id="optimizedResumePreview" style="max-height:180px;overflow:auto;background:#fafafa;padding:8px;border:1px solid #eee"></pre>
      <div id="validationErrors" style="color:#b71c1c;margin-top:6px;font-size:13px"></div>
      <div style="margin-top:8px">
        <button id="downloadOptimized" class="btn">Download JSON</button>
      </div>
    </div>

    <div class="section">
      <h2>Application Stats</h2>
      <div id="stats">
        <p>Applications sent: <span id="appCount">0</span></p>
        <p>Success rate: <span id="successRate">0%</span></p>
      </div>
    </div>

    <div class="section">
      <h2>Settings</h2>
      <button id="openSettings" class="btn btn-secondary">Configure Resume</button>
    </div>

    <div class="footer">
      <p>Version 1.0.0</p>
    </div>
  </div>
  
  <script src="utils/ajv.real.js"></script>
  <script src="utils/crypto.js"></script>
  <script src="utils/schema-validator.js"></script>
  <script src="popup.js"></script>
</body>
</html>

